v2.0-20240919:
  - image_to_model:
      # type 一定要在 image_to_model 下有缩进
      type: chain
      tasks:
        - photo_frame
        - caption
        - image2image
        - GROUP1:
            type: group
            tasks:
              - caption
              - image2model
        - empty_task
        - GROUP2:
            type: group
            tasks:
              - SUB_GROUP1:
                  type: chain
                  tasks:
                    - texture
                    - SUB_GROUP2:
                        type: group
                        tasks:
                          - pbr
                          - diffuse2normal
                    - empty_task
              - postprocess_stylize
        - project2model
        - render
      queue: q1

  - text_to_model:
      type: chain
      tasks:
        - translate
        - text2image_pose
        - text2image
        - image2image
        - GROUP1:
            type: group
            tasks:
              - caption
              - image2model
        - empty_task
        - GROUP2:
            type: group
            tasks:
              - postprocess_stylize
              - SUB_GROUP1:
                  type: chain
                  tasks:
                    - texture
                    - SUB_GROUP2:
                        type: group
                        tasks:
                          - pbr
                          - diffuse2normal
                    - empty_task
        - project2model
        - render
      queue: q1


periodic:
  - clean:
      tasks:
        - clean_expired_tasks
      queue: q2
      periodic:
        interval: 10

  - upload_log:
      tasks:
        - upload_queue_info
      queue: q2
      periodic:
        interval: 10


# v2.0-20240919:
#   retension_task:
#     tasks:
#       - EXTRACT
#       - TRANSFORM
#       - LOAD
#     queue: q1
#     retention: 
#       offset: 10
#     periodic:
#       interval: 5
#       payload: 
#         hello: world
#         dummy: data


# example.NESTED_WORKFLOW:
#   type: chain
#   tasks:
#     - EXAMPLE_GROUP:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#           - TASK_C
#     - TASK_D
#     - EXAMPLE_GROUP:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#           - TASK_C


# example.NESTED_WORKFLOW_2_GROUP_CHAINED:
#   type: chain
#   tasks:
#     - TASK_A
#     - EXAMPLE_GROUP:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#           - TASK_C:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#     - TASK_D
# example.NESTED_WORKFLOW_2_MULTI_GROUP:
#   type: chain
#   tasks:
#     - TASK_A
#     - EXAMPLE_GROUP1:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#           - TASK_C:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#     - TASK_C
#     - EXAMPLE_GROUP2:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#           - TASK_C:
#               type: chain
#               tasks:
#                 - TASK_1
#                 - TASK_2
#     - TASK_D

# example.NETSTED_3LVL:
#   type: chain
#   tasks:
#     - TASK_A
#     - EXAMPLE_GROUP1:
#         type: group
#         tasks:
#           - TASK_B:
#               type: chain
#               tasks:
#                 - TASK_SUB_GROUP:
#                     type: group
#                     tasks:
#                       - TASK_B11
#                       - TASK_B12
#                 - TASK_B2
#           - TASK_C
#     - TASK_D